.ORIG x3000
LD R5, Y

AND, R0,R0,#0
AND, R1,R1,#0
AND, R2,R2,#0
TRAP 0x31
; all registers loaded.

; abs of the values 
LD R4,X
BRzp ZP_X
NOT R4,R4
ADD R4,R4,#1
ZP_X

LD R5,Y
BRzp ZP_Y
NOT R5,R5
ADD R5,R5,#1
ZP_Y

TRAP 0x36
NOT R5,R5
ADD R5,R5,#1

ADD R7,R4,R5
TRAP 0x36
BRz WRITEZERO
BRp WRITEONE
BRn WRITETWO

WRITEZERO
ADD R3,R3,#0
TRAP 0x34
TRAP 0x36
BR FINISH

WRITEONE
ADD R3,R3,#1
TRAP 0x34
TRAP 0x36
BR FINISH

WRITETWO
ADD R3,R3,#2
TRAP 0x34
TRAP 0x36
BR FINISH

FINISH
HALT

X .FILL #-5
Y .FILL #-6

.END
